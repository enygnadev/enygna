~/workspace$ npm run typecheck

> enygna-enterprises@1.0.0 typecheck
> tsc --noEmit

src/lib/cache/cacheManager.ts:89:32 - error TS2802: Type 'MapIterator<[string, CacheEntry<any>]>' can only be iterated through when using the '--downlevelIteration' flag or with a '--target' of 'es2015' or higher.

89     for (const [key, entry] of this.cache.entries()) {
                                  ~~~~~~~~~~~~~~~~~~~~

src/lib/cache/cacheManager.ts:104:23 - error TS2802: Type 'MapIterator<string>' can only be iterated through when using the '--downlevelIteration' flag or with a '--target' of 'es2015' or higher.

104     for (const key of this.cache.keys()) {
                          ~~~~~~~~~~~~~~~~~

src/lib/cache/cacheManager.ts:268:32 - error TS2802: Type 'MapIterator<[string, CacheEntry<any>]>' can only be iterated through when using the '--downlevelIteration' flag or with a '--target' of 'es2015' or higher.

268     for (const [key, entry] of this.cache.entries()) {
                                   ~~~~~~~~~~~~~~~~~~~~

src/lib/config/appConfig.ts:391:31 - error TS2686: 'React' refers to a UMD global, but the current file is a module. Consider adding an import instead.

391   const [config, setConfig] = React.useState(configManager.getConfig());
                                  ~~~~~

src/lib/config/appConfig.ts:392:3 - error TS2686: 'React' refers to a UMD global, but the current file is a module. Consider adding an import instead.

392   React.useEffect(() => {
      ~~~~~

src/lib/marketing.ts:67:16 - error TS1251: Function declarations are not allowed inside blocks in strict mode when targeting 'ES5'. Class definitions are automatically in strict mode.

67       function gtag(...args: any[]) {
                  ~~~~

src/lib/marketing.ts:134:16 - error TS1251: Function declarations are not allowed inside blocks in strict mode when targeting 'ES5'. Class definitions are automatically in strict mode.

134       function gtag(...args: any[]) {
                   ~~~~

src/lib/marketing.ts:316:42 - error TS2339: Property 'getValidConsents' does not exist on type 'LGPDService'.

316       const consents = await lgpdService.getValidConsents(userId);
                                             ~~~~~~~~~~~~~~~~

src/lib/marketing.ts:317:28 - error TS7006: Parameter 'consent' implicitly has an 'any' type.

317       return consents.some(consent =>
                               ~~~~~~~

src/lib/monitoring.ts:549:9 - error TS2349: This expression is not callable.
  Type 'Number' has no call signatures.

549         limit(limit)
            ~~~~~

src/lib/notifications.ts:635:9 - error TS2322: Type '(userId: string) => Promise<void>' is not assignable to type '() => Promise<void>'.
  Target signature provides too few arguments. Expected 1 or more, but got 0.

635         markAllAsRead: notificationService.markAllAsRead.bind(notificationService),
            ~~~~~~~~~~~~~

  src/lib/notifications.ts:613:3
    613   markAllAsRead: () => Promise<void>;
          ~~~~~~~~~~~~~
    The expected type comes from property 'markAllAsRead' which is declared here on type 'UseNotificationsReturn'

src/lib/performance.ts:112:51 - error TS2339: Property 'navigationStart' does not exist on type 'PerformanceNavigationTiming'.

112       Total: navigation.loadEventEnd - navigation.navigationStart
                                                      ~~~~~~~~~~~~~~~

src/lib/security.ts:222:43 - error TS2802: Type 'Uint8Array<ArrayBuffer>' can only be iterated through when using the '--downlevelIteration' flag or with a '--target' of 'es2015' or higher.

222       const combined = new Uint8Array([...iv, ...new Uint8Array(encrypted)]);
                                              ~~

src/lib/security.ts:222:50 - error TS2802: Type 'Uint8Array<ArrayBuffer>' can only be iterated through when using the '--downlevelIteration' flag or with a '--target' of 'es2015' or higher.

222       const combined = new Uint8Array([...iv, ...new Uint8Array(encrypted)]);
                                                     ~~~~~~~~~~~~~~~~~~~~~~~~~

src/lib/security.ts:224:42 - error TS2802: Type 'Uint8Array<ArrayBuffer>' can only be iterated through when using the '--downlevelIteration' flag or with a '--target' of 'es2015' or higher.

224       return btoa(String.fromCharCode(...combined));
                                             ~~~~~~~~


Found 15 errors in 7 files.

Errors  Files
     3  src/lib/cache/cacheManager.ts:89
     2  src/lib/config/appConfig.ts:391
     4  src/lib/marketing.ts:67
     1  src/lib/monitoring.ts:549
     1  src/lib/notifications.ts:635
     1  src/lib/performance.ts:112
     3  src/lib/security.ts:222